CREATE PROCEDURE spDivisas_ver
@p_id AS BIGINT=NULL
AS
BEGIN
	IF EXISTS(SELECT * FROM DIVISAS WHERE ID_DIVISAS=@p_id)
		SELECT * FROM DIVISAS WHERE ID_DIVISAS=@p_id
	ELSE
		SELECT * FROM DIVISAS
END

CREATE PROCEDURE spDivisas_guardar
	@p_ACTIVO AS BIT      ,
	@p_FACTOR_MONEDA AS DECIMAL      ,
	@p_ID_DIVISAS AS INT      ,
	@p_ID_PAIS AS INT      ,
	@p_MODIFICADO_POR AS INT      ,
	@p_MODIFICADOR_EN AS DATETIME      ,
	@p_NOMBRE AS VARCHAR  ( 250 ) = NULL ,
	@p_VALOR AS DECIMAL      
AS
BEGIN

	 IF (@p_ID_DIVISAS=-1)
	BEGIN
		INSERT INTO DIVISAS (
		 ACTIVO ,
		 FACTOR_MONEDA ,
		 ID_PAIS ,
		 MODIFICADO_POR ,
		 MODIFICADOR_EN ,
		 NOMBRE ,
		 VALOR 
		) VALUES (
		 @p_ACTIVO, 
		 @p_FACTOR_MONEDA, 
		 @p_ID_PAIS, 
		 @p_MODIFICADO_POR, 
		 @p_MODIFICADOR_EN, 
		 @p_NOMBRE, 
		 @p_VALOR 
		)
	END

	ELSE
	BEGIN
		UPDATE DIVISAS 
		SET 
		ACTIVO=@p_ACTIVO,
		FACTOR_MONEDA=@p_FACTOR_MONEDA,
		ID_PAIS=@p_ID_PAIS,
		MODIFICADO_POR=@p_MODIFICADO_POR,
		MODIFICADOR_EN=@p_MODIFICADOR_EN,
		NOMBRE=@p_NOMBRE,
		VALOR=@p_VALOR
		WHERE ID_DIVISAS=@p_ID_DIVISAS
	END
END
