CREATE PROCEDURE spEmpleado_ver
@p_id AS BIGINT=NULL
AS
BEGIN
	IF EXISTS(SELECT * FROM EMPLEADO WHERE IDEMPLEADO=@p_id)
		SELECT * FROM EMPLEADO WHERE IDEMPLEADO=@p_id
	ELSE
		SELECT * FROM EMPLEADO
END

CREATE PROCEDURE spEmpleado_guardar
	@p_ACTIVO AS BIT      ,
	@p_FECHA_DESERTO AS DATETIME      ,
	@p_FECHA_INICIO AS DATETIME      ,
	@p_IDEMPLEADO AS INT      ,
	@p_MODIFICADO_EN AS DATETIME      ,
	@p_MODIFICADO_POR AS INT      
AS
BEGIN

	 IF (@p_IDEMPLEADO=-1)
	BEGIN
		INSERT INTO EMPLEADO (
		 ACTIVO ,
		 FECHA_DESERTO ,
		 FECHA_INICIO ,
		 MODIFICADO_EN ,
		 MODIFICADO_POR 
		) VALUES (
		 @p_ACTIVO, 
		 @p_FECHA_DESERTO, 
		 @p_FECHA_INICIO, 
		 @p_MODIFICADO_EN, 
		 @p_MODIFICADO_POR 
		)
	END

	ELSE
	BEGIN
		UPDATE EMPLEADO 
		SET 
		ACTIVO=@p_ACTIVO,
		FECHA_DESERTO=@p_FECHA_DESERTO,
		FECHA_INICIO=@p_FECHA_INICIO,
		MODIFICADO_EN=@p_MODIFICADO_EN,
		MODIFICADO_POR=@p_MODIFICADO_POR
		WHERE IDEMPLEADO=@p_IDEMPLEADO
	END
END
