CREATE PROCEDURE spProveedor_ver
@p_id AS BIGINT=NULL
AS
BEGIN
	IF EXISTS(SELECT * FROM PROVEEDOR WHERE ID_PROVEEDOR=@p_id)
		SELECT * FROM PROVEEDOR WHERE ID_PROVEEDOR=@p_id
	ELSE
		SELECT * FROM PROVEEDOR
END

CREATE PROCEDURE spProveedor_guardar
	@p_ACTIVO AS BIT      ,
	@p_CONTACTO_VENTAS AS VARCHAR  ( 15 ) = NULL ,
	@p_CORREO AS VARCHAR  ( 50 ) = NULL ,
	@p_DIRECCION AS VARCHAR  ( 500 ) = NULL ,
	@p_ID_PROVEEDOR AS INT      ,
	@p_MODIFICADO_EN AS DATETIME      ,
	@p_MODIFICADO_POR AS INT      ,
	@p_NOMBRE AS VARCHAR  ( 250 ) = NULL ,
	@p_NRC AS VARCHAR  ( 100 ) = NULL ,
	@p_TELEFONO AS VARCHAR  ( 15 ) = NULL 
AS
BEGIN

	 IF (@p_ID_PROVEEDOR=-1)
	BEGIN
		INSERT INTO PROVEEDOR (
		 ACTIVO ,
		 CONTACTO_VENTAS ,
		 CORREO ,
		 DIRECCION ,
		 MODIFICADO_EN ,
		 MODIFICADO_POR ,
		 NOMBRE ,
		 NRC ,
		 TELEFONO 
		) VALUES (
		 @p_ACTIVO, 
		 @p_CONTACTO_VENTAS, 
		 @p_CORREO, 
		 @p_DIRECCION, 
		 @p_MODIFICADO_EN, 
		 @p_MODIFICADO_POR, 
		 @p_NOMBRE, 
		 @p_NRC, 
		 @p_TELEFONO 
		)
	END

	ELSE
	BEGIN
		UPDATE PROVEEDOR 
		SET 
		ACTIVO=@p_ACTIVO,
		CONTACTO_VENTAS=@p_CONTACTO_VENTAS,
		CORREO=@p_CORREO,
		DIRECCION=@p_DIRECCION,
		MODIFICADO_EN=@p_MODIFICADO_EN,
		MODIFICADO_POR=@p_MODIFICADO_POR,
		NOMBRE=@p_NOMBRE,
		NRC=@p_NRC,
		TELEFONO=@p_TELEFONO
		WHERE ID_PROVEEDOR=@p_ID_PROVEEDOR
	END
END
